# G6 æµç¨‹å›¾

## åœ¨çº¿ Demo

[https://claudewowo.github.io/welabx-g6/dist/?_blank](https://claudewowo.github.io/welabx-g6/dist/?_blank)
> æ¬¢è¿Žå…³æ³¨æˆ‘çš„ B ç«™æ•™ç¨‹, ä¸å®šæ—¶æ›´æ–°, è®²è§£å„ç§å›¾å½¢ç»˜åˆ¶ä»¥åŠé—®é¢˜è§£å†³æ€è·¯, å¸¦ä½ é¢†ç•¥å¯è§†åŒ–çš„é­…åŠ›ï¼š[bilibli](http://www.bilibili.com/video/BV1YX4y1u7bB?share_medium=android&share_source=copy_link&bbid=XYECCEEEA651E106BC16F360C66C12F72B7CB&ts=1608714329434)
>
> G6 äº”åé—®ï¼š[äº”åä¸ªé—®é¢˜åŠè§£ç­”](https://github.com/claudewowo/welabx-g6/blob/master/FAQ.md)
>
> ä¸­æ–‡æ–‡æ¡£ï¼š[https://github.com/claudewowo/welabx-g6/blob/master/GUIDE.md](https://github.com/claudewowo/welabx-g6/blob/master/GUIDE.md)
â€‹

![image.png](https://cdn.nlark.com/yuque/0/2021/png/566082/1628650308370-fd5bee09-cac2-4752-b1af-423382e04160.png#clientId=u4603bf6b-29eb-4&from=paste&height=723&id=Mkmiz&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1446&originWidth=1580&originalType=binary&ratio=1&size=171292&status=done&style=none&taskId=u88aacbad-cb50-454a-9271-27a0b26b1a8&width=790)

## èµ·æº

å…¬å¸é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°æ¶‰åŠè¡¨ç¤ºå…³ç³»çš„å›¾è°±ï¼Œåœ¨d3å¯ä»¥æ»¡è¶³éœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œå‘çŽ°äº†G6ã€‚åœ¨å¯¹æ¯”äº†æ€§èƒ½å’ŒæŠ€æœ¯åŽç»­è¿­ä»£ï¼Œé€‰æ‹©äº†G6ä½œä¸ºæŠ€æœ¯æ”¯æ’‘ã€‚
â€‹

## é¢å‘äººç¾¤

ðŸ™‹ é€‚ç”¨äºŽéœ€è¦é ç»˜å›¾æ¥è¡¨è¾¾å’Œæè¿°å…³ç³»çš„é¡¹ç›®
ðŸ™‹ å®˜ç½‘æ‰€æœ‰æ”¯æŒçš„å¸ƒå±€å‡å¯ä½¿ç”¨
ðŸ™‹ ä»¥åŠé¢†åŸŸç›¸å…³çš„å¼€å‘è€…
â€‹

## è®¡åˆ’

1.0 ç‰ˆæœ¬å®Œæ•´å®žçŽ°æ‰€æœ‰æµç¨‹åŒ–çš„è‡ªå®šä¹‰åŠŸèƒ½ï¼Œå¹¶åŒ…å«ç»å¤§éƒ¨åˆ†å¯é€‰çš„äº¤äº’ï¼Œå®žçŽ°æžé«˜æ€§èƒ½çš„ç»˜å›¾å·¥å…·ã€‚

## å·²å®ŒæˆåŠŸèƒ½

ðŸ˜Ž è‡ªå®šä¹‰èŠ‚ç‚¹å’Œè¾¹, æ”¯æŒé”šç‚¹é…ç½®
ðŸ˜Ž è‡ªå®šä¹‰åœ†å½¢, æ–¹å½¢, æ¤­åœ†, è±å½¢èŠ‚ç‚¹
ðŸ˜Ž èŠ‚ç‚¹æ”¯æŒæ‹–æ‹½è¿žçº¿, åˆ é™¤(æŒ‰deleteé”®), ç¼–è¾‘
ðŸ˜Ž è¾¹é»˜è®¤å¸¦ç»“æŸç®­å¤´, æ”¯æŒæ ‡ç­¾æ˜¾ç¤º
ðŸ˜Ž æ”¯æŒè‡ªå®šä¹‰ tool-tip å†…å®¹
ðŸ˜Ž æ”¯æŒç”»å¸ƒ/èŠ‚ç‚¹/è¾¹äº‹ä»¶ç›‘å¬

## TODO

- [x]  ç»™èŠ‚ç‚¹è®¾ç½®å›¾æ ‡
- [x]  è¾¹å¶å°”ä¼šè¢«é€‰ä¸­
- [x]  è¾¹åŠ¨æ€åŠ¨ç”»
- [x]  æ‹–æ‹½è¾¹é«˜äº®åŠæ—¶æ¶ˆå¤±
- [x]  èŠ‚ç‚¹å’Œè¾¹ tooltip
- [x]  æ¤­åœ†, å¹³è¡Œå››è¾¹å½¢èŠ‚ç‚¹
- [x]  è¾¹æ”¯æŒç¼–è¾‘ç®­å¤´
- [x]  åŒå‡»èŠ‚ç‚¹ç¼–è¾‘æ ‡ç­¾
- [x]  ç”»å¸ƒç¼©æ”¾æ—¶çš„æ‹–æ‹½å…¼å®¹
- [x]  è§£å†³æ‹–æ‹½æ—¶ nullæ–‡å­—æ®‹ç•™
- [x]  ç‚¹å‡»èŠ‚ç‚¹æ—¶å°†èŠ‚ç‚¹å±‚çº§æå‡
- [x]  æ‹–æ‹½ç”»å¸ƒåŽæ‹–æ‹½é”šç‚¹è™šçº¿ä½ç½®é”™è¯¯
- [x]  èŠ‚ç‚¹å¤šé€‰(shift), æ‹–åŠ¨æ¡†é€‰èŠ‚ç‚¹
- [ ]  æ‹–æ‹½èŠ‚ç‚¹åˆ°ç”»å¸ƒè¾¹ç¼˜æ—¶è‡ªåŠ¨æ»šåŠ¨ç”»å¸ƒå¯è§èŒƒå›´
- [ ]  é«˜äº®æ˜¾ç¤ºä¸Žè¯¥èŠ‚ç‚¹è¿žæŽ¥çš„èŠ‚ç‚¹
- [ ]  é”šç‚¹ç¦ç”¨çŠ¶æ€åŠç›¸å…³äº¤äº’
- [ ]  èŠ‚ç‚¹é”å®šåŠåŠ é”çŠ¶æ€

## æœªæ¥è§„åˆ’

ðŸ¤” è¾¹æœ‰ç›¸äº¤æ—¶, èƒ½å¦ä½¿ç”¨å¼§çº¿è·³è¿‡
ðŸ¤” å¦‚ä½•å°†å¤šä¸ªäº‹ä»¶æ³¨å†Œä¸ºæ’ä»¶
ðŸ¤” ps æ—‹è½¬å’Œæ‹–æ‹½å˜å½¢
ðŸ¤” å¯¹é½çº¿å¦‚ä½•å®žçŽ°
ðŸ¤” å¯Œæ–‡æœ¬åŠŸèƒ½æ 
â€‹
## å¦‚ä½•å¼€å‘

```shell
npm install
npm run dev
# open 127.0.0.1:4300 in your browser
```

## æ³¨æ„äº‹é¡¹

- ä½¿ç”¨ `cnpm` å®‰è£…å¯èƒ½å¯¼è‡´ `import` è·¯å¾„æŠ¥é”™, å»ºè®®ä½¿ç”¨`npm` æˆ–`yarn`ã€‚
- å¦å¤–å‘çŽ°ä½¿ç”¨ `npm` å®‰è£…å†…éƒ¨ä¾èµ–ä¼šè‡ªåŠ¨æ›´æ–°, å¯¼è‡´G6å†…éƒ¨å‡ºçŽ°æŠ¥é”™, å¦‚æœ‰æŠ¥é”™, è¯·è‡ªè¡ŒæŽ’æŸ¥ä¾èµ–ç‰ˆæœ¬. è¯·åŠ¡å¿…ä½¿ç”¨ `package-lock` æˆ– `yarn.lock` é”å®šä¾èµ–ç‰ˆæœ¬
- æœ‰é—®é¢˜è¯·åœ¨ GitHub ä¸Šæ issue, ç›®å‰ç‰ˆæœ¬è¿˜æœ‰å¤§éƒ¨åˆ†åŠŸèƒ½è¦å®Œå–„, æ¬¢è¿Ž star
â€‹

## é‡è¦æ›´æ–°æ—¥å¿—

[https://github.com/claudewowo/welabx-g6/blob/master/CHANGELOG.md](https://github.com/claudewowo/welabx-g6/blob/master/CHANGELOG.md)

### [0.5.4] 2021-02-07 !é‡å¤§æ›´æ–°

- [upgrade] å‡çº§ G6 åˆ° 4.1.x ç‰ˆæœ¬
- [upgrade] é‡å¤§æ›´æ–°! å®žä¾‹åŒ–æ–¹æ³•å·²ç»ç‹¬ç«‹æˆæ³¨å†Œæ–¹æ³•, åªéœ€æžå°‘çš„æ”¹åŠ¨, å…·ä½“å†™æ³•è¯·å‚ç…§[ä½¿ç”¨æ•™ç¨‹](https://github.com/claudewowo/welabx-g6/blob/master/GUIDE.md)!
- [upgrade] æä¾›çš„ *-node èŠ‚ç‚¹å‡æ”¯æŒäºŒæ¬¡ç»§æ‰¿, æ”¯æŒæ›´å¤šæ‰©å±•å¯èƒ½æ€§! äºŒæ¬¡ç»§æ‰¿å¯å‚è€ƒ[ä½¿ç”¨æ•™ç¨‹](https://github.com/claudewowo/welabx-g6/blob/master/GUIDE.md#%E4%BA%8C%E6%AC%A1%E7%BB%A7%E6%89%BF)
- [fixed] æ‰€æœ‰ labelCfg æ ·å¼é…ç½®è°ƒæ•´ä¸º labelCfg.style, åŒå®˜æ–¹ API

### [0.6.0] 2021-04-25 !é‡å¤§æ›´æ–°

- [upgrade] å‡çº§ G6 åˆ° 4.2.x ç‰ˆæœ¬, 0.6.0 ç‰ˆæœ¬ä»¥åŽè¯·ä½¿ç”¨ antv/G6 v4.2.0+ ä½œä¸ºç”Ÿäº§ç‰ˆæœ¬
- [fixed] ä¿®å¤äº†æ‹–æ‹½èŠ‚ç‚¹åŽ, è¾¹æœªè‡ªåŠ¨æ›´æ–°, éœ€è¦æ›´æ–° modes å‚æ•° drag-node ä¸º drag-shadow-node, å½“ä½¿ç”¨ drag-node æ—¶, æ‹–æ‹½èŠ‚ç‚¹è¡Œä¸ºå°†ä½¿ç”¨å®˜æ–¹å†…ç½®è¡Œä¸º, å¦‚æžœéœ€è¦ä½¿ç”¨è™šæ‹ŸèŠ‚ç‚¹æ‹–æ‹½æ•ˆæžœ, è¯·å‡†å¤‡ä¸¤ç§ modes, ä½¿ç”¨ setMode åˆ‡æ¢ drag-node å’Œ drag-shadow-node !!!

### [0.6.5] 2021-07-12

- [add] ä¸º drag-shadow-node æ·»åŠ  shouldBegin æ–¹æ³•, å¯åœ¨ä½¿ç”¨æ—¶è¿›è¡Œè‡ªå®šä¹‰
- [add] è¾¹å’ŒèŠ‚ç‚¹å‡æ”¯æŒäºŒæ¬¡æ‰©å±•å¹¶é€šè¿‡ stateApplying æ‰©å±•æ›´å¤šçŠ¶æ€

### [0.7.0] 2022-03-21

- [add] æ·»åŠ  umd æ‰“åŒ…æ ¼å¼, å¯é€šè¿‡ script å¼•å…¥
- [fix] é¼ æ ‡æ‹–æ‹½åˆ°ç”»å¸ƒå¤–æ—¶è¿žçº¿ä¼šæ–­å¼€, ä½†éœ€è¦åšäº›é¢å¤–å¤„ç†:

```js
this.graph.on('canvas:mouseleave', e => {
  this.graph.getNodes().forEach(x => {
    const group = x.getContainer();

    group.clearAnchor();
    x.clearStates('anchorActived');
  });
});
```
